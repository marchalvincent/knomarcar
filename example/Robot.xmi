<?xml version="1.0" encoding="ASCII"?>
<metamodel:Robot
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:metamodel="http://metamodel/1.0"
    xsi:schemaLocation="http://metamodel/1.0 ../model/metaModel.ecore">
  <behaviours
      name="home">
    <stateMachine>
      <states
          name="forward">
        <transitions
            src="//@behaviours.0/@stateMachine/@states.0"
            dest="//@behaviours.0/@stateMachine/@states.2"
            name="lightOnLeft">
          <conditions
              xsi:type="metamodel:MoreThan"
              operandLeft="//@sensors.5/@value"
              operandRight="//@sensors.4/@value"/>
        </transitions>
        <transitions
            src="//@behaviours.0/@stateMachine/@states.0"
            dest="//@behaviours.0/@stateMachine/@states.1"
            name="lightOnRight">
          <conditions
              xsi:type="metamodel:MoreThan"
              operandLeft="//@sensors.4/@value"
              operandRight="//@sensors.5/@value"/>
        </transitions>
        <actions
            xsi:type="metamodel:Forward"
            group="//@actuators.2"
            speed="50"/>
      </states>
      <states
          name="turnRight">
        <transitions
            src="//@behaviours.0/@stateMachine/@states.1"
            dest="//@behaviours.0/@stateMachine/@states.0"
            name="lightInFrontOf">
          <conditions
              xsi:type="metamodel:Equal"
              operandLeft="//@sensors.4/@value"
              operandRight="//@sensors.5/@value"/>
        </transitions>
        <actions
            xsi:type="metamodel:TurnRight"
            group="//@actuators.2"
            speed="50"/>
      </states>
      <states
          name="turnLeft">
        <transitions
            src="//@behaviours.0/@stateMachine/@states.2"
            dest="//@behaviours.0/@stateMachine/@states.0"
            name="lightInFrontOf">
          <conditions
              xsi:type="metamodel:Equal"
              operandLeft="//@sensors.4/@value"
              operandRight="//@sensors.5/@value"/>
        </transitions>
        <actions
            xsi:type="metamodel:TurnLeft"
            group="//@actuators.2"
            speed="50"/>
      </states>
      <states
          name="stop"/>
    </stateMachine>
  </behaviours>
  <sensors xsi:type="metamodel:DistanceSensor"
      name="FrDsRight">
    <value name="FrDsRightVal">
      <value
          xsi:type="metamodel:FloatVal"/>
    </value>
  </sensors>
  <sensors xsi:type="metamodel:DistanceSensor"
      name="FrDsLeft">
    <value name="FrDsLeftVal">
      <value
          xsi:type="metamodel:FloatVal"/>
    </value>
  </sensors>
  <sensors xsi:type="metamodel:DistanceSensor"
      name="BhDsRight">
    <value name="BhDsRight">
      <value
          xsi:type="metamodel:FloatVal"/>
    </value>
  </sensors>
  <sensors xsi:type="metamodel:DistanceSensor"
      name="BhDsLeft">
    <value name="BhDsLeft">
      <value
          xsi:type="metamodel:FloatVal"/>
    </value>
  </sensors>
  <sensors xsi:type="metamodel:LightSensor"
      name="LsRight">
    <value name="LsRightVal">
      <value
          xsi:type="metamodel:FloatVal"/>
    </value>
  </sensors>
  <sensors xsi:type="metamodel:LightSensor"
      name="LsLeft">
    <value name="LsLeftVal">
      <value
          xsi:type="metamodel:FloatVal"/>
    </value>
  </sensors>
  <actuators
      xsi:type="metamodel:DifferentialWheel"
      name="wheelLeft"
      isLeft="true"/>
  <actuators
      xsi:type="metamodel:DifferentialWheel"
      name="wheelRight"/>
  <actuators
      xsi:type="metamodel:Group"
      wheels="//@actuators.0 //@actuators.1"/>
</metamodel:Robot>
